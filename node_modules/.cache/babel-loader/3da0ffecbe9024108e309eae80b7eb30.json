{"ast":null,"code":"var _jsxFileName = \"D:\\\\h5-50\\u671F\\\\\\u7B2C\\u5341\\u56DB\\u5468\\\\\\u7B2C\\u56DB\\u5929\\\\\\u5B8C\\u6574\\u97F3\\u4E50\\u64AD\\u653E\\u5668\\\\src\\\\components\\\\MusicList.js\";\nimport React, { Component } from 'react';\nimport \"./MusicList.css\";\nimport { Icon } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { setPlayStyle, setCurrentPlayIndex } from \"../store/actions.js\";\n\nclass MusicList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.playStyleIconClick = s => {\n      this.props.setPlayStyle(s);\n    };\n\n    this.musicItemClick = i => {\n      this.props.setCurrentPlayIndex(i);\n      console.log(this.props);\n      setTimeout(() => {\n        this.props.player.play();\n      }, 100);\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"music-list-root\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"music-list-play-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"music-list-btn \".concat(this.props.playStyle === 'normal' && 'music-list-btn-high'),\n      type: \"retweet\",\n      title: \"\\u987A\\u5E8F\\u64AD\\u653E\",\n      onClick: () => this.playStyleIconClick(\"normal\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      className: \"music-list-btn \".concat(this.props.playStyle === 'random' && 'music-list-btn-high'),\n      type: \"swap\",\n      title: \"\\u968F\\u673A\\u64AD\\u653E\",\n      onClick: () => this.playStyleIconClick(\"random\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      className: \"music-list-btn \".concat(this.props.playStyle === 'single' && 'music-list-btn-high'),\n      type: \"redo\",\n      title: \"\\u5355\\u66F2\\u5FAA\\u73AF\",\n      onClick: () => this.playStyleIconClick(\"single\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"music-list-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.musicList.map((m, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"music-list-item\",\n        title: m,\n        onClick: () => this.musicItemClick(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.props.currentPlayIndex === i && React.createElement(Icon, {\n        type: \"loading\",\n        className: \"music-list-playing-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, m));\n    })));\n  }\n\n}\n\nexport default connect(state => {\n  return {\n    musicList: state.musicList,\n    currentPlayIndex: state.currentPlayIndex,\n    playStyle: state.playStyle,\n    player: state.player\n  };\n}, dispatch => {\n  return {\n    setPlayStyle(s) {\n      dispatch(setPlayStyle(s));\n    },\n\n    setCurrentPlayIndex(i) {\n      dispatch(setCurrentPlayIndex(i));\n    }\n\n  };\n})(MusicList);","map":{"version":3,"sources":["D:\\h5-50期\\第十四周\\第四天\\完整音乐播放器\\src\\components\\MusicList.js"],"names":["React","Component","Icon","connect","setPlayStyle","setCurrentPlayIndex","MusicList","constructor","props","playStyleIconClick","s","musicItemClick","i","console","log","setTimeout","player","play","state","render","playStyle","musicList","map","m","currentPlayIndex","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./MusicList.css\";\r\n\r\nimport {Icon} from \"antd\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {setPlayStyle,setCurrentPlayIndex} from \"../store/actions.js\";\r\n\r\nclass MusicList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    render() { \r\n        return (\r\n            <div className=\"music-list-root\">\r\n                <div className=\"music-list-play-style\">\r\n                    <Icon \r\n                        className={\r\n                            `music-list-btn ${this.props.playStyle==='normal'&&'music-list-btn-high'}`\r\n                        }\r\n                        type=\"retweet\" \r\n                        title=\"顺序播放\"\r\n                        onClick={()=>this.playStyleIconClick(\"normal\")}\r\n                    />\r\n                    <Icon \r\n                        className={\r\n                            `music-list-btn ${this.props.playStyle==='random'&&'music-list-btn-high'}`\r\n                        }\r\n                        type=\"swap\" \r\n                        title=\"随机播放\"\r\n                        onClick={()=>this.playStyleIconClick(\"random\")}\r\n                    />\r\n                    <Icon \r\n                        className={\r\n                            `music-list-btn ${this.props.playStyle==='single'&&'music-list-btn-high'}`\r\n                        }\r\n                        type=\"redo\" \r\n                        title=\"单曲循环\"\r\n                        onClick={()=>this.playStyleIconClick(\"single\")}\r\n                    />\r\n                </div>\r\n                <div className=\"music-list-box\">\r\n                    {this.props.musicList.map((m,i)=>{\r\n                        return (\r\n                            <div \r\n                                key={i} \r\n                                className=\"music-list-item\" \r\n                                title={m}\r\n                                onClick={()=>this.musicItemClick(i)}\r\n                            >\r\n                                {this.props.currentPlayIndex===i&&<Icon \r\n                                    type=\"loading\" \r\n                                    className=\"music-list-playing-icon\"\r\n                                ></Icon>}\r\n                                \r\n                                <span>{m}</span>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    playStyleIconClick = s =>{\r\n        this.props.setPlayStyle(s);\r\n    }\r\n\r\n    musicItemClick = i=>{\r\n        this.props.setCurrentPlayIndex(i);\r\n        console.log( this.props )\r\n        setTimeout(() => {\r\n            this.props.player.play();\r\n        }, 100);\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>{\r\n        return {\r\n            musicList:state.musicList,\r\n            currentPlayIndex:state.currentPlayIndex,\r\n            playStyle:state.playStyle,\r\n            player:state.player\r\n        }\r\n    },\r\n    dispatch=>{\r\n        return {\r\n            setPlayStyle(s){\r\n                dispatch(setPlayStyle(s));\r\n            },\r\n            setCurrentPlayIndex(i){\r\n                dispatch(setCurrentPlayIndex(i));\r\n            }\r\n        }\r\n    }\r\n)(MusicList);"]},"metadata":{},"sourceType":"module"}